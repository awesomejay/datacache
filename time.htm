<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Time</title>

    <script type="text/javascript">

function doy(y,m,d) {

	if (typeof(doy.cache) != 'object') {
		doy.cache = new Object();
	}
	if (doy.cache[y.toString()+m.toString()+d.toString()]) {
		return doy.cache[y.toString()+m.toString()+d.toString()];
	}
		
	isleap = new Date(y,1,29).getMonth() == 1;

	if (isleap) {
		var days = [0,31,60,91,121,152,182,213,244,274,305,335];
	} else {
		var days = [0,31,59,90,120,151,181,212,243,273,304,334];
	}
	var DOY = d;
	for (var i = 0; i < m; i++) {DOY = DOY + days[i];}

	doy.cache[y.toString()+m.toString()+d.toString()] = DOY;
	
	return DOY;	
}

function soy(y,m,d,h,mn,s) {

	if (typeof(y) === "string") {
		if (1) {
			console.log(y);
			str = y.replace(/\s+/g,' ').split(' ');
			console.log(str)
			m = parseInt(str.slice(0)[0]);
			console.log(str)
			d = parseInt(str.slice(1)[0]);
			y = parseInt(str.slice(2)[0]);
			h = parseInt(str.slice(3)[0]);
			mn = parseInt(str.slice(4)[0]);
			s = parseFloat(str.slice(5)[0]);
			console.log([y,m,d,h,mn,s])
			str = str.slice(6).toString().replace(',',' ');
			}
			if (0) {
			y = parseInt(str.slice(0)[0]);
			m = parseInt(str.slice(1)[0]);
			d = parseInt(str.slice(2)[0]);
			h = parseInt(str.slice(3)[0]);
			mn = parseInt(str.slice(4)[0]);
			s = parseInt(str.slice(5)[0]);
			str = str.slice(6).toString().replace(',',' ');
			}
	}

	if (typeof(soy.cache) != 'object') {
		soy.cache = new Object();
	}
	if (soy.cache[y.toString()+m.toString()+d.toString()]) {
		SOY = 3600*24*(soy.cache[y.toString()+m.toString()+d.toString()]-1)+h*3600+mn*60+s;
		if (str != null) {
			console.log(str)
			return SOY.toString() + " " + str;
		} else {
			return SOY;
		}
	}
	soy.cache[y.toString()+m.toString()+d.toString()] = doy(y,m,d);

	SOY = 3600*24*(soy.cache[y.toString()+m.toString()+d.toString()]-1)+h*3600+mn*60+s;
	if (str != null) {
		return SOY.toString() + " " + str;
	} else {
		return SOY;
	}
}
//console.log(soy("1980 1 2 0 0 1 98 99"))
console.log(soy("1  1   2005 0 0 2.1 98 99"))
//console.log(doy(1980,1,1))
//console.log(eval(str='1980 01 01 00 01 02 19';str.split(' ').slice(0,6)));
//console.log( "1980 1 1 0 1 2 19 29 39".replace(/^(.*\s?){6}/,'soy($1,\"$2\");'));
//console.log(eval("1980 1 1 0 1 2 19".replace(/(.*) (.*) (.*) (.*) (.*) (.*)( .* .*)/,'soy($1,$2,$3,$4,$5,$6,\"$7\")')));
</script>

</head>
<body>

</body>
</html>